 {% extends "customer/base.html.twig" %}

{% block title %}Log in!{% endblock %}

{% block body %}

  <main id="main">

        <!-- PAGE DE CONNEXION -->

        <section class="login col-5">

            <p class="h3">Pas de compte ? Créez-en un !</p>
            <a class="compte" href="{{path('app_register')}}">Créez votre compte</a>
            <h1 class="h3">Connectez-vous à votre compte</h1>

            <div class="alertBoutique">
                {% include "_messages_flash.html.twig" %}
            </div>
            
            <form id="login-form" action="" method="post">

                {% if error %}
                    <div class="alert-danger">{{ error.messageKey | trans (error.messageData, 'security') }}</div>
                {% endif %}

                {% if app.user %}
                <div class="mess-login">
                    Vous êtes connecté en tant que {{ app.user.username }}, <a href="{{ path('app_logout') }}"> <span class="logout">Logout</span></a>
                </div>
                {% endif %}

                <label for="inputEmail"><span class="size">E-mail</span></label> 
                <input class="form-control" type="email" value="{{ last_username }}" name="email" id="inputEmail" autocomplete="email" autofocus>
                <label for="password"><span class="size">Mot de passe</span></label> 
                <input class="form-control" type="password" name="password" id="inputPassword" autocomplete="current-password">

                <input type="hidden" name="_csrf_token"
                value="{{ csrf_token('authenticate') }}">

                {#

                Uncomment this section and add a remember_me option below your firewall to activate remember me functionality.
                See https://symfony.com/doc/current/security/remember_me.html

                <div class="checkbox mb-3">
                    <label>
                        <input type="checkbox" name="_remember_me"> Remember me
                    </label>
                </div>

                #}
                {# {% if ('inputEmail' is same as app.user) %} #}
                <a class="verte" href="{{ path('app_lost_password') }}">Mot de passe oublié ?</a>
                {# {% else %}
                 <p>Vous n'êtes pas inscrit à notre liste d'utilisateurs.</p>
                {% endif %} #}
                <button class="btn-login" type="submit">Connexion</button>
                {# <a class="cxfbook" href="#"><span class="facebook"><i class="fab fa-facebook"></i></span> Connexion avec facebook</a>
                <a class="cxgoogle" href="#"><img class="google" src="./images/google-logo.png" ></img> Connexion avec Google</a> #}
            </form>

        </section>
        
        <!-- FINPAGE DE CONNEXION -->

    </main>




    {#
        Uncomment this section and add a remember_me option below your firewall to activate remember me functionality.
        See https://symfony.com/doc/current/security/remember_me.html

        <div class="checkbox mb-3">
            <label>
                <input type="checkbox" name="_remember_me"> Remember me
            </label>
        </div>
    #}

{% endblock %}
